@using DinoPizza.Models
@using DinoPizza.Helpers
@model DinoPizza.Models.Cart
@addTagHelper *, DinoPizza

@{
    ViewData["Title"] = "Оформление заказа";
    var client = ViewData["Client"] as ClientModel;
}

<div class="order-container">
    <header class="order-header">
        <div class="left">
            <div class="order-left-div">
                <a class="order-left-div-logo order-left-div-container" href="/" data-active="false" data-type="primary" data-size="normal">
                    <svg xmlns="http://www.w3.org/2000/svg" width="250" height="42" fill="none" viewBox="0 0 250 42">
                        <g clip-path="url(#59ec6f-a)">
                            <path fill="#FF6900" d="M18.77 0c12.206 0 21.59 8.4 21.59 20.868C40.36 33.338 30.976 42 18.77 42H5.053A4.82 4.82 0 0 1 0 36.947V5.25A4.98 4.98 0 0 1 5.054 0z"></path>
                            <path fill="#000" d="M32.813 16.34c-.066.526-.657.526-.92.066-.852-1.443-1.968-1.706-3.74-1.837-1.312-.066-2.887.065-4.331.065a.3.3 0 0 1-.294-.151.3.3 0 0 1-.034-.111c.262-1.247 1.312-3.544 2.428-3.74.525-.066 1.706-.197 2.362-.197 3.02 0 4.66 3.478 4.529 5.906M15.75 28.22c2.224.591 4.53.813 6.825.656a18.2 18.2 0 0 0 8.466-2.756c-.985 2.494-4.725 4.069-8.27 4.462 0 .197-.065.329-.065.525 2.26-.09 4.465-.72 6.432-1.837-.657 2.428-3.938 3.412-6.957 3.61a4 4 0 0 1-.262.524c1.486.021 2.968-.178 4.397-.59-1.378 2.559-7.285 4.33-12.272 1.968a15.75 15.75 0 0 0 1.706-6.562m16.472-17.456a5.77 5.77 0 0 0-4.135-1.575c-1.968 0-3.609.525-6.037.59-1.64.066-3.15-3.544-5.119-4.003-.853-1.903-2.822-2.166-4.003-1.181-1.116-.656-2.822-.328-2.887.919-1.247-.394-2.888.262-2.166 1.968-3.084.066-3.61 2.822-1.575 3.085-2.69 1.51-1.444 4.134.788 3.61.393 3.937 2.165 9.055-.722 10.302-.328.131-1.641.46-4.135-.131L0 23.757v2.034c2.166.525 4.331.918 5.71.787 3.806-.393 4.003-3.543 3.806-6.3s-1.116-5.84-.788-8.072l-.131-.13c-1.378 1.443-2.297 1.05-2.428.59-.197-.919 1.444-2.1 2.362-2.494 0-.066.066-.131.066-.197-.853.131-1.903 0-1.969-.59-.066-.722 1.444-1.444 3.413-1.247.065 0 .065-.066.13-.066l-.393-.197c-.525-.262-.656-.722-.46-.984a1.4 1.4 0 0 1 1.182-.46 4.4 4.4 0 0 1 1.772.394c.066 0 .066-.066.131-.066-.131-.13-.328-.262-.394-.393a.5.5 0 0 1 .066-.657 1.37 1.37 0 0 1 1.575.263l.328.328a.24.24 0 0 0 .197-.066.7.7 0 0 1-.197-.459.394.394 0 0 1 .263-.525.8.8 0 0 1 .787.328c.173.264.305.551.394.853a5.45 5.45 0 0 0-4.003 2.035 6.26 6.26 0 0 0-.788 5.381 38.7 38.7 0 0 0 1.903 5.906v.066c1.575 4.528 4.594 15.684-10.04 21.59A6 6 0 0 0 4.922 42h1.51a18.96 18.96 0 0 0 6.496-5.381c6.694 2.953 12.797 1.444 15.422-3.413a6.41 6.41 0 0 0 2.953-4.725 4.91 4.91 0 0 0 .985-4.265c-.066-.263-.329-.263-.722-.066-5.447 3.281-10.238 3.806-15.947 2.1a43 43 0 0 0-.788-5.315c-.131-2.297.59-3.413 4.79-2.035 2.757.722 4.004 1.969 4.988 2.625.46.328 1.05.722 1.378.46.197-.132.263-.526.263-.985a10.9 10.9 0 0 0-1.181-4.134 34 34 0 0 1 3.74 0 2.11 2.11 0 0 1 1.903 1.444c.46 1.312 3.02.984 3.216-.132.394-2.297.525-5.315-1.706-7.415M3.084 30.45a24 24 0 0 0-3.084 0v1.378c1.772-.393 2.888-.59 2.888-.59z"></path>
                            <path fill="#fff" d="M19.491 16.078c-2.297-.525-4.856-1.182-6.169-3.15 0-.066-.065-.066-.13-.066a.066.066 0 0 0-.066.066.6.6 0 0 0 .065.328l-.197.065a1.31 1.31 0 0 1-.065-1.575 1.686 1.686 0 0 1 2.165-.196l-.065.196a1.44 1.44 0 0 0-.92.066.354.354 0 0 0-.13.525c1.115 2.1 4.397 2.56 8.268 2.231a.466.466 0 0 0 .525-.393 7.44 7.44 0 0 1 1.838-3.479c-.629.103-1.266.147-1.903.132-1.969.13-3.15-.132-3.478-.394l.065-.197c.197.066.46.066.46 0s0-.131-.066-.197c-.394-.328-2.1-2.1-2.1-2.1-.197-1.51-2.362-1.51-3.216-.065l-.262-.066c.057-.282.168-.55.328-.788a4.115 4.115 0 0 0-3.019 3.544c-.787 6.694 9.385 5.119 12.272 7.81.066.065.197.262.263.13.065-.13-1.182-1.705-4.463-2.427M15.947 8.07c.46-.13 1.182.329 1.51 1.05s.262 1.444-.197 1.641c-.46.197-1.181-.328-1.51-1.05-.065-.131-.065-.197-.13-.328h.065a.43.43 0 0 0 .46.131c.196-.131.13-.394 0-.656-.132-.263-.329-.394-.526-.394l-.065-.065a.87.87 0 0 1 .393-.329M31.041 26.118a18.2 18.2 0 0 1-8.465 2.756c-2.295.12-4.595-.1-6.825-.656q-.001.994-.197 1.969a27.3 27.3 0 0 0 5.84.722 9.8 9.8 0 0 1-2.821 4.987c3.543.132 6.759-1.247 7.743-3.084a13.4 13.4 0 0 1-4.397.59c.066-.196.197-.328.263-.525 3.019-.13 6.3-1.115 6.956-3.609a14.2 14.2 0 0 1-6.431 1.838c0-.197.066-.329.066-.525 3.543-.46 7.284-1.97 8.268-4.463"></path>
                        </g>
                        <g clip-path="url(#59ec6f-b)">
                            <path fill="#000" d="M240.469 22.968c-.92 0-1.841-.13-2.695-.328l2.629-5.84 2.629 5.84c-.854.197-1.709.328-2.563.328m9.268 4.463-6.113-13.388c-.723-1.443-1.643-2.1-3.024-2.1h-.263c-1.446 0-2.366.657-3.089 2.1l-6.113 13.388c-.591 1.312-.197 2.494 1.052 2.953 1.052.46 2.235.066 2.761-.984l.065-.132 1.381-2.887c1.38.46 2.76.656 4.206.656 1.381 0 2.761-.197 4.01-.656l1.314 2.887c.395 1.05 1.578 1.575 2.695 1.182h.066l.132-.066c1.051-.46 1.577-1.706 1.117-2.756-.132-.066-.132-.131-.197-.197m-22.085-1.247h-1.183V13.978c.065-1.181-.921-2.166-2.104-2.232h-.197c-1.183-.065-2.169.854-2.235 2.035V26.25h-7.822V13.978a2.29 2.29 0 0 0-2.431-2.166 2.28 2.28 0 0 0-2.17 2.166v14.437c-.065 1.181.789 2.166 1.972 2.232h13.803v1.968c-.065 1.181.789 2.166 1.972 2.231h.198c1.117.066 2.169-.787 2.234-1.903v-4.396c.132-1.116-.723-2.1-1.774-2.232h-.395m-22.611-.131h-1.183V13.978c.066-1.181-.92-2.166-2.103-2.232h-.132c-1.183 0-2.103.92-2.169 2.1V26.25h-7.821V13.978a2.29 2.29 0 0 0-2.432-2.166 2.28 2.28 0 0 0-2.169 2.166v14.437c-.066 1.181.788 2.166 1.971 2.232h13.804v1.968c-.066 1.181.788 2.166 1.971 2.231h.198c1.117.132 2.169-.721 2.3-1.837v-4.528c.132-1.116-.723-2.1-1.775-2.231h-.394m-25.174-14.307h-.197c-1.315 0-2.235.657-3.155 1.97l-7.362 10.433V14.11a2.187 2.187 0 0 0-2.169-2.166 2.187 2.187 0 0 0-2.169 2.166v13.913c-.066 1.312.854 2.428 2.169 2.493h.591c1.381 0 2.367-.722 3.221-1.968l7.362-10.435v10.172c0 1.181.986 2.166 2.169 2.166a2.187 2.187 0 0 0 2.169-2.166V14.437c.131-1.312-.854-2.428-2.169-2.494zm-21.954 0h-12.62c-1.117-.065-2.169.788-2.235 1.904v14.7c-.065 1.18.921 2.165 2.104 2.23h.197c1.183.066 2.169-.852 2.235-2.034V16.275h8.084v12.272c-.065 1.18.855 2.165 2.038 2.23h.263c1.183.066 2.235-.852 2.301-2.034V14.11c0-1.181-.921-2.166-2.038-2.166zm-32.667 14.57c-2.958 0-5.061-2.232-5.061-5.25 0-2.823 2.3-5.054 5.061-5.054 2.76 0 5.061 2.297 5.061 5.053.066 3.019-2.038 5.25-5.061 5.25m0-14.7a9.34 9.34 0 0 0-9.597 9.121v.394c-.131 5.184 4.01 9.45 9.137 9.515h.394c5.193.066 9.531-4.068 9.597-9.253v-.262c.065-5.119-4.076-9.385-9.203-9.45zM106.841 26.25h-7.427c.526-.985.854-2.035 1.117-3.15.263-1.51.46-3.085.46-4.594l.066-2.166h5.719zm5.653 0h-1.183V14.109c.066-1.181-.789-2.166-1.972-2.231H98.691c-1.249 0-2.038.787-2.038 2.231v2.953a26 26 0 0 1-.394 5.513c-.197 1.312-.723 2.559-1.446 3.675h-.526c-1.117-.066-2.103.721-2.169 1.837v4.528c-.066 1.181.789 2.166 1.972 2.231h.197c1.117.066 2.17-.787 2.235-1.903v-2.231h13.606v1.969c-.066 1.181.789 2.166 1.972 2.231h.197c1.117.066 2.169-.787 2.235-1.903v-4.397c.131-1.05-.592-2.1-1.709-2.231h-.46m-30.302.131c-2.957 0-5.06-2.231-5.06-5.25 0-2.822 2.3-5.053 5.06-5.053a5.06 5.06 0 0 1 5.062 5.053c.065 3.019-1.907 5.25-5.062 5.25m0-14.7a9.337 9.337 0 0 0-9.596 9.122v.394a9.24 9.24 0 0 0 9.136 9.515h.46c5.193.066 9.531-4.068 9.597-9.253v-.262c.066-5.578-4.075-9.516-9.597-9.516M63.591 26.25H56.23c.526-1.05.854-2.1 1.117-3.216.263-1.51.46-3.084.46-4.594l.066-2.165h5.719zm5.653 0h-1.183V14.109c.066-1.181-.789-2.166-1.972-2.231H55.573c-1.25 0-2.038.787-2.038 2.231v2.953a26 26 0 0 1-.394 5.513c-.198 1.312-.723 2.559-1.447 3.675h-.525c-1.118-.066-2.104.721-2.17 1.837v4.528c-.065 1.181.79 2.166 1.972 2.231h.198c1.117.066 2.169-.787 2.235-1.903v-2.231H67.01v1.969c-.066 1.181.788 2.166 1.971 2.231h.198c1.117.066 2.169-.787 2.234-1.903v-4.397c.132-1.115-.723-2.1-1.774-2.231-.132-.197-.263-.197-.395-.131"></path>
                        </g>
                        <defs>
                            <clipPath id="59ec6f-a">
                                <path fill="#fff" d="M0 0h42v42H0z"></path>
                            </clipPath>
                            <clipPath id="59ec6f-b">
                                <path fill="#fff" d="M49 0h201v42H49z"></path>
                            </clipPath>
                        </defs>
                    </svg>
                </a>
                <div class="order-left-div-advanced">
                    <div class="left-advanced-text">Сеть №1<!-- --> <!-- -->в России</div>
                    <div class="left-advanced-a">по&nbsp;количеству пиццерий</div>
                </div>
            </div>
        </div>
        <div class="right">
            <ul class="order-ul order-ul-el header__ordering-steps">
                <li class="header__ordering-steps-item header__ordering-steps-item_success">
                    <span class="header__ordering-steps-bubble">
                        <svg xmlns="http://www.w3.org/2000/svg" width="11" height="12" viewBox="0 0 11 12" class="header__ordering-steps-value header__ordering-steps-value_success">
                            <path fill-rule="evenodd" d="M10.555.168a1 1 0 0 1 .277 1.387L4.1 11.653.24 7.151a1 1 0 1 1 1.52-1.302L3.9 8.347 9.168.445a1 1 0 0 1 1.387-.277"></path>
                        </svg>
                    </span>
                    <span class="header__ordering-steps-label">Корзина</span>
                </li>
                <li class="header__ordering-steps-item header__ordering-steps-item_current">
                    <span class="header__ordering-steps-bubble">
                        <svg xmlns="http://www.w3.org/2000/svg" width="7" height="10" viewBox="0 0 7 10" class="header__ordering-steps-value header__ordering-steps-value_2">
                            <path fill-rule="evenodd" d="M1.036 10q-.448 0-.686-.287a1.07 1.07 0 0 1-.238-.707q0-.588.476-1.148.602-.714 1.904-1.722.714-.56 1.141-.931.427-.37.791-.896.364-.525.364-.973 0-.686-.35-1.169t-1.12-.483q-.659 0-1.022.35-.364.35-.434.756v-.014q-.098.784-.854.784a.78.78 0 0 1-.567-.224Q.21 3.111.21 2.734q.07-1.19.959-1.946A3.1 3.1 0 0 1 3.248.032q1.512 0 2.415.784t.903 2.254q0 .7-.245 1.316-.244.615-.742 1.162-.497.546-.917.91t-1.078.84l-.14.098.014-.014q-1.078.855-1.134.91h3.64q.77 0 .77.854a1 1 0 0 1-.182.602Q6.371 10 5.964 10z"></path>
                        </svg>
                    </span>
                    <span class="header__ordering-steps-label">Оформление заказа</span>
                </li>
                <li class="header__ordering-steps-item">
                    <span class="header__ordering-steps-bubble">
                        <svg xmlns="http://www.w3.org/2000/svg" width="7" height="11" viewBox="0 0 7 11" class="header__ordering-steps-value header__ordering-steps-value_3">
                            <path fill-rule="evenodd" d="M3.486 1.894H1.078q-.756 0-.756-.868 0-.825.756-.826h4.298q.42 0 .602.238a.94.94 0 0 1 .182.588q0 .294-.28.672L3.864 3.896q1.12.098 1.911.812t.791 1.96q0 .588-.168 1.155t-.525 1.085-1.029.84-1.568.322q-2.24 0-3.052-1.848a1.3 1.3 0 0 1-.098-.448q0-.434.434-.672.196-.098.462-.098.435 0 .63.336.224.518.588.847.364.33 1.036.329.686 0 1.099-.469.413-.47.427-1.239.015-.825-.455-1.148T3.15 5.338q-.195 0-.56.028a.82.82 0 0 1-.679-.217.86.86 0 0 1-.273-.651q0-.364.238-.644L3.5 1.908zm0 0h.028l.014-.028q-.014 0-.042.028"></path>
                        </svg>
                    </span>
                    <span class="header__ordering-steps-label">Заказ принят</span>
                </li>
            </ul>
        </div>
    </header>
    

    <div class="order-main row">
        <div class="col-md-8" style="height: 50vh">
            <h4>Заказ на доставку</h4>
            <form class="order-form" method="post" action="@Url.Action("Checkout", "Order")">
                <!-- Имя клиента -->
                <div class="order-group form-group">
                    <label class="order-group-name" for="clientName">Имя клиента:</label>
                    <input type="text" id="clientName" class="form-control" value="@client?.FirstName" readonly/>
                    <input type="hidden" name="customerName" value="@client?.FirstName" />
                </div>

                <!-- Адрес клиента -->
                <div class="order-group form-group">
                    <label class="order-group-name" for="userAddress">Адрес доставки:</label>
                    <div class="address-container">
                        <input type="text" id="userAddress" name="address" class="form-control address-input" value="@client?.Address" readonly/>
                        <button type="button" class="btn address-btn" data-bs-toggle="modal" data-bs-target="#addressModal">Изменить</button>
                    </div>
                </div>

                <!-- Время доставки -->
                <div class="order-group form-group">
                    <label class="order-group-name" for="deliveryTime">Время доставки:</label>
                    <div class="order-btn-group btn-group" role="group" aria-label="Delivery Time">
                        <input type="hidden" name="deliveryTime" id="deliveryTimeInput" value="@DateTime.Now.ToString("HH:mm")" />
                        <button type="button" class="order-btn btn btn-secondary" id="fastDelivery">Побыстрее</button>
                        <button type="button" class="order-btn btn btn-secondary" id="time30">@DateTime.Now.AddMinutes(30).ToString("HH:mm")</button>
                        <button type="button" class="order-btn btn btn-secondary" id="time45">@DateTime.Now.AddMinutes(45).ToString("HH:mm")</button>
                        <button type="button" class="order-btn btn btn-secondary" data-bs-toggle="modal" data-bs-target="#timeModal">Другое время</button>
                    </div>
                </div>

                <!-- Способ оплаты -->
                <div class="order-group form-group">
                    <label class="order-group-name" for="paymentMethod">Способ оплаты:</label>
                    <select id="paymentMethod" name="PaymentMethod" class="form-control">
                        <option value="card">Карточка</option>
                        <option value="cash">Наличные</option>
                    </select>
                </div>

                <div class="order-buttons-group mt-4">
                    <button type="button" onclick="window.location.href='/'" class="order-buttons-btn btn-cart btn">Назад в корзину</button>
                    <button type="submit" class="order-buttons-btn btn-checkout btn mt-3">Оформить заказ на @Model.TotalCost.ToString("c", new System.Globalization.CultureInfo("ru-RU"))</button>
                </div>
            </form>
        </div>

        <div class="order-checkout col-md-4">
            <div class="order-checkout-container-main">
                <h5 class="order-checkout-title">Состав заказа</h5>
                <div class="order-checkout-container">
                    @if (Model != null && Model.Records.Any())
                    {
                        <table class="table table-hover">
                            <tbody>
                                @foreach (var item in Model.Records)
                                {
                                    <tr class="product-tr order-product-tr">
                                        <td class="product-td">
                                            <span class="product-name order-checkout-product-name">@item.Product.Name</span>
                                            <span class="product-quantity">@item.Quantity x</span>
                                            <span class="product-cost"> @item.Cost.ToString("c", new System.Globalization.CultureInfo("ru-RU"))</span>
                                        </td>
                                    </tr>
                                }
                            </tbody>
                        </table>
                    }
                    else
                    {
                        <p>Корзина пуста</p>
                    }
                </div>
                <section class="order-checkout-section">
                    <div class="subtotal">
                        <div class="info">
                            <span>@Model.TotalQuantity</span>
                            <span> Товара</span>
                        </div>
                        <div class="info">
                            <span>@Model.TotalCost.ToString("c", new System.Globalization.CultureInfo("ru-RU"))</span> <!-- Итоговая стоимость -->
                        </div>
                    </div>
                    <hr class="order-hr"/>
                    <div class="subtotal">
                        <div class="info">Сумма заказа</div>
                        <div class="info">
                            <span>@Model.TotalCost.ToString("c", new System.Globalization.CultureInfo("ru-RU"))</span> <!-- Сумма заказа -->
                        </div>
                    </div> 
                </section>
            </div>           
        </div>
    </div>
</div>


<!-- Модальное окно для изменения адреса -->
<div class="modal fade" id="addressModal" tabindex="-1" aria-labelledby="addressModalLabel" aria-hidden="true">
    <div class="modal-dialog">
        <div class="address-content modal-content">
            <div class="address-content modal-header">
                <h5 class="address-title modal-title" id="addressModalLabel">Мои адреса</h5>
                <button type="button" class="btn-close" data-bs-dismiss="modal" aria-label="Close"></button>
            </div>
            <div class="address-body modal-body">
                <div class="saved-addresses-container">
                    <button type="button" class="address-button btn btn-light address-item w-100 text-start mb-2" data-address="@client?.Address">
                        @client?.Address
                    </button>
                </div>
            </div>
            <div class="address-footer modal-footer">
                <button type="button" class="address-footer-button btn mt-3 w-100" id="addNewAddress" data-bs-toggle="modal" data-bs-target="#mapModal">
                    Добавить адрес
                </button>
                <button type="button" class="address-footer-button-select btn" id="selectAddress" disabled>Выбрать</button>
            </div>
        </div>
    </div>
</div>

<!-- Модальное окно с картой -->
<div class="modal fade" id="mapModal" tabindex="-1" aria-labelledby="mapModalLabel" aria-hidden="true">
    <div class="modal-dialog modal-lg">
        <div class="map-dialog modal-content">
            <div class="modal-body">
                <div class="map-row row">
                    <div>
                        <form class="map-form">
                            <div class="map-header modal-header">
                                <button type="button" class="map-button-header btn-back" id="backToAddressModal" aria-label="Back">
                                    <svg xmlns="http://www.w3.org/2000/svg" class="arrow-left" viewBox="0 0 32 32" style="width: 32px;">
                                        <path fill-rule="evenodd" d="M20.84 27.925a1.25 1.25 0 0 0 .085-1.766L11.689 16l9.236-10.16a1.25 1.25 0 1 0-1.85-1.68L9.564 14.62l-.016.017a5 5 0 0 0-.246.285c-.093.12-.223.31-.301.568a1.75 1.75 0 0 0 0 1.018c.078.258.208.447.301.568.079.101.174.206.246.285l.016.017 9.511 10.462a1.25 1.25 0 0 0 1.766.084Z" clip-rule="evenodd"></path>
                                    </svg>
                                </button>
                                <h5 class="map-title modal-title" id="mapModalLabel">Добавление адреса</h5>
                            </div>
                            <div class="mb-3">
                                <label for="fullAddress" class="form-label">Город, улица и дом</label>
                                <input type="text" class="form-control" id="fullAddress" placeholder="Адрес" readonly>
                            </div>
                            <div class="mb-3">
                                <button id="findLocationBtn" class="btn btn-primary">Определить местоположение</button>
                            </div>
                            <div class="map-additional">
                                <div class="mb-3">
                                    <input type="text" class="map-input form-control" id="entrance" placeholder="Подъезд">
                                </div>
                                <div class="mb-3">
                                    <input type="text" class="map-input form-control" id="floor" placeholder="Этаж">
                                </div>
                                <div class="mb-3">
                                    <input type="text" class="map-input form-control" id="apartment" placeholder="Квартира">
                                </div>
                            </div>
                            <div class="map-footer modal-footer">
                                <button type="button" class="map-button btn btn-primary" id="saveNewAddress">Сохранить адрес</button>
                            </div>
                        </form>
                    </div>
                </div>
            </div>
            <div class="col-md-6">
                <div id="map" style="width: 100%; height: 500px;"></div>
            </div>
        </div>
    </div>
</div>

<!-- Модальное окно для выбора времени доставки -->
<div class="modal fade" id="timeModal" tabindex="-1" aria-labelledby="timeModalLabel" aria-hidden="true">
    <div class="modal-dialog">
        <div class="modal-content">
            <div class="modal-header">
                <h5 class="modal-title" id="timeModalLabel">Выбор времени доставки</h5>
                <button type="button" class="btn-close" data-bs-dismiss="modal" aria-label="Close"></button>
            </div>
            <div class="modal-body">
                <div class="btn-group-vertical w-100">
                    <!-- Динамически добавляются кнопки с интервалами 15 минут до 24:00 -->
                    @for (int i = 0; i < 48; i++)
                    {
                        var time = DateTime.Now.AddMinutes(15 * i).ToString("HH:mm");
                        <button type="button" class="btn btn-outline-primary w-100">@time</button>
                    }
                </div>
            </div>
        </div>
    </div>
</div>

@section Scripts {
    <script>

        // Обработчики для кнопок времени
        $('#fastDelivery').click(function () {
            $('#deliveryTime').val('Побыстрее');
        });

        $('#time30').click(function () {
            $('#deliveryTime').val('15 минут');
        });

        $('#time45').click(function () {
            $('#deliveryTime').val('30 минут');
        });

        $('#saveAddress').click(function () {
            var newAddress = $('#newAddress').val();
            if (newAddress) {
                $('#userAddress').val(newAddress);
                $('#addressModal').modal('hide');
            }
        });
    </script>
}
